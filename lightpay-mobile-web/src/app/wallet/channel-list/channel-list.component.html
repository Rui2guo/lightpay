<div class="toolbar">
  <div *ngIf="!displayDetailPaging && !displayNewChannelPaging" class="new" (click)="openChannel()">
    <i class="icon flaticon-link"></i>
    <span class="plus">＋</span>
  </div>
  <div *ngIf="!displayDetailPaging && !displayNewChannelPaging" class="close" (click)="close()">
    <i class="icon flaticon-cancel"></i>
  </div>
  <div *ngIf="displayDetailPaging && !displayNewChannelPaging" class="back" (click)="closeDetailPage()">
    <i class="icon flaticon-arrows"></i>
  </div>
  <div *ngIf="!displayDetailPaging && displayNewChannelPaging" class="back" (click)="closeOpenChannelPage()">
    <i class="icon flaticon-arrows"></i>
  </div>
  <div *ngIf="!displayDetailPaging && !displayNewChannelPaging" class="title">チャンネル一覧</div>
  <div *ngIf="displayDetailPaging && !displayNewChannelPaging" class="title">チャンネル詳細</div>
  <div *ngIf="!displayDetailPaging && displayNewChannelPaging" class="title">新規チャンネル</div>
</div>
<div class="contents">
  <div class="channel-type">
    <div (click)="onClickOpen()" [class.active]="isSelectedOpen" [class.inactive]="!isSelectedOpen" class="open">オープン</div>
    <div (click)="onClickPending()" [class.active]="isSelectedPending" [class.inactive]="!isSelectedPending" class="pending">ペンディング</div>
  </div>
  <div class="scroll-container">
    <ng-container *ngFor="let channel of channels">
      <div (click)="onClickRow(channel)" class="channel-row">
        <div class="channel-info">
          <div class="chan-id">
            <span class="label">ID:</span>
            <span class="value">{{channel.chanId}}</span>
          </div>
          <div *ngIf="channel.active" class="channel-active">アクティブ</div>
        </div>
        <div class="balance-info">
          <div class="local-balance">
            <span class="value">{{channel.localBalance | toBtcString}}</span>
            <span class="unit">BTC</span>
          </div>
          <div class="remote-balance">
            <span class="value">{{channel.remoteBalance | toBtcString}}</span>
            <span class="unit">BTC</span>
          </div>
          <div class="balance-meter">
            <div [style.width.%]="calcLocalBalanceMeter(channel)" class="local"></div>
            <div [style.width.%]="calcRemoteBalanceMeter(channel)" class="remote"></div>
          </div>
        </div>
      </div>
    </ng-container>
    <div *ngIf="emitId !== null" class="loading">
      <div class="sk-cube-grid">
        <div class="sk-cube sk-cube1"></div>
        <div class="sk-cube sk-cube2"></div>
        <div class="sk-cube sk-cube3"></div>
        <div class="sk-cube sk-cube4"></div>
        <div class="sk-cube sk-cube5"></div>
        <div class="sk-cube sk-cube6"></div>
        <div class="sk-cube sk-cube7"></div>
        <div class="sk-cube sk-cube8"></div>
        <div class="sk-cube sk-cube9"></div>
      </div>
    </div>
  </div>
</div>
<div [style.display]="displayDetailPaging || displayNewChannelPaging ? 'block' : 'none'" class="page-contents">
  <lp-paging [pagingName]="pagingName"></lp-paging>
</div>